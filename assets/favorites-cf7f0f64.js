import{i as u,d as p,a as m,g as r,c,b as s}from"./pagination-59322aef.js";const a={recipesCont:document.querySelector(".recipes-container"),paginationCont:document.querySelector("#tui-pagination-container"),pagination:void 0,noFav:document.querySelector(".no-fav"),categoriesFilter:document.querySelector(".categories-filter")};o();a.recipesCont.addEventListener("click",v);a.categoriesFilter.addEventListener("click",y);function v(t){if(!t.target.classList.contains("js-fav"))return;const{id:e}=t.target.dataset;u(e)?(p(e),o()):(m(e),t.target.parentElement.classList.add("is-fav"))}function o(){let t=r();if(!t||t.length===0){a.noFav.classList.remove("visually-hidden"),a.paginationCont.classList.add("visually-hidden");return}const e=t.map((i,g,l)=>{if(g===l.findIndex(d=>d.category===i.category))return i.category});console.log(e),a.categoriesFilter.insertAdjacentHTML("beforeend",f(e));const n=matchMedia("(max-width: 1109px)").matches?"8":"9";a.recipesCont.innerHTML=c(t),a.pagination=s({page:1,perPage:n,totalPages:t.length/Number(n)})}function f(t){return t.map(e=>`<button type="button" class="category-btn" data-cat="${e}">${e}</button>`).join("")}function y(t){if(!t.target.classList.contains("category-btn")||t.target.classList.contains("active"))return;let e=r().filter(({category:i})=>t.target.dataset.cat==="all"?!0:i===t.target.dataset.cat);document.querySelector(".category-btn.active").classList.remove("active"),t.target.classList.add("active");const n=matchMedia("(max-width: 1109px)").matches?"8":"9";a.recipesCont.innerHTML=c(e),a.pagination=s({page:1,perPage:n,totalPages:e.length/Number(n)})}
